<!DOCTYPE html>
<html lang="mn">
<head>
    <meta charset="UTF-8">
    <title>–ú–æ–≥–æ–π –¢–æ–≥–ª–æ–æ–º - –≠—Ö–ª—ç—Ö —Ç–æ–≤—á—Ç–æ–π</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <style>
        /* –ì–∞–¥–Ω–∞ —Ç–∞–ª—ã–Ω –∞—Ä—ã–Ω –¥—ç–≤—Å–≥—ç—Ä–∏–π–≥ ”©–Ω–≥”© —É—É—Å–≥–∞–ª—Ç—Ç–∞–π (Gradient) –±–æ–ª–≥–æ–≤ */
        body { 
            background: linear-gradient(135deg, #1e1e2f, #2d3436); 
            text-align: center; 
            font-family: 'Courier New', sans-serif; 
            color: white;
            margin: 0;
            padding: 20px;
        }
        canvas { 
            border: 8px solid #ff4d4d; 
            box-shadow: 0 10px 50px rgba(0,0,0,0.5); 
            display: block;
            margin: 20px auto;
        }
    </style>
</head>
<body>

    <h2>üêç –ú–û–ì–û–ô –¢–û–ì–õ–û–û–ú üêç</h2>

    <script>
        let –º–æ–≥–æ–π;
        let –Ω“Ø–¥–Ω–∏–π_—Ö—ç–º–∂—ç—ç = 20;
        let —Ö–æ–æ–ª;
        let —Ü–∞–≥ = 30;
        let —Ç–æ–≥–ª–æ–æ–º_–∏–¥—ç–≤—Ö—Ç—ç–π = false; // –¢–æ–≥–ª–æ–æ–º —ç—Ö—ç–ª—Å—ç–Ω —ç—Å—ç—Ö–∏–π–≥ —Ö—è–Ω–∞—Ö

        function setup() {
            createCanvas(600, 600);
            –º–æ–≥–æ–π = new –ú–æ–≥–æ–π_–û–±—ä–µ–∫—Ç();
            frameRate(10);
            —Ö–æ–æ–ª–Ω—ã_–±–∞–π—Ä—à–∏–ª_—Å–æ–Ω–≥–æ—Ö();
        }

        function draw() {
            background(30);

            if (!—Ç–æ–≥–ª–æ–æ–º_–∏–¥—ç–≤—Ö—Ç—ç–π) {
                // –≠—Ö–ª—ç—Ö –¥—ç–ª–≥—ç—Ü —Ö–∞—Ä—É—É–ª–∞—Ö
                —Ö–∞—Ä—É—É–ª_—ç—Ö–ª—ç—Ö_—Ü—ç—Å–∏–π–≥();
            } else {
                // –¢–æ–≥–ª–æ–æ–º –∞–∂–∏–ª–ª–∞—Ö —Ö—ç—Å—ç–≥
                —Ç–æ–≥–ª–æ–æ–º_—è–≤—É—É–ª–∞—Ö();
            }
        }

        function —Ö–∞—Ä—É—É–ª_—ç—Ö–ª—ç—Ö_—Ü—ç—Å–∏–π–≥() {
            fill(255);
            textAlign(CENTER, CENTER);
            textSize(40);
            text("–ú–û–ì–û–ô –¢–û–ì–õ–û–û–ú", width/2, height/2 - 50);
            
            // –≠—Ö–ª—ç—Ö —Ç–æ–≤—á–Ω—ã –∑–∞–≥–≤–∞—Ä
            fill(50, 200, 50);
            rect(width/2 - 100, height/2, 200, 60, 10); 
            
            fill(255);
            textSize(25);
            text("–≠–•–õ–≠–•", width/2, height/2 + 30);
            
            textSize(15);
            text("(–î—ç–ª–≥—ç—Ü –¥—ç—ç—Ä –¥–∞—Ä–∂ —ç—Ö–ª“Ø“Ø–ª–Ω—ç “Ø“Ø)", width/2, height/2 + 100);
        }

        // –î—ç–ª–≥—ç—Ü –¥—ç—ç—Ä —Ö—É–ª–≥–∞–Ω–∞–∞—Ä –¥–∞—Ä–∞—Ö “Ø–µ–¥
        function mousePressed() {
            if (!—Ç–æ–≥–ª–æ–æ–º_–∏–¥—ç–≤—Ö—Ç—ç–π) {
                // –•—ç—Ä—ç–≤ —Ç–æ–≤—á–ª—É—É—Ä –¥—ç—ç—Ä –¥–∞—Ä—Å–∞–Ω –±–æ–ª —Ç–æ–≥–ª–æ–æ–º—ã–≥ —ç—Ö–ª“Ø“Ø–ª—ç—Ö
                if (mouseX > width/2 - 100 && mouseX < width/2 + 100 &&
                    mouseY > height/2 && mouseY < height/2 + 60) {
                    —Ç–æ–≥–ª–æ–æ–º_–∏–¥—ç–≤—Ö—Ç—ç–π = true;
                    —Ü–∞–≥ = 30; // –¶–∞–≥–∏–π–≥ —à–∏–Ω—ç—ç—Ä —ç—Ö–ª“Ø“Ø–ª—ç—Ö
                    loop();   // –ó—É—Ä–∞–≥–ª–∞–ª—ã–≥ “Ø—Ä–≥—ç–ª–∂–ª“Ø“Ø–ª—ç—Ö
                }
            }
        }

        function —Ç–æ–≥–ª–æ–æ–º_—è–≤—É—É–ª–∞—Ö() {
            // –¶–∞–≥ —Ç–æ–æ–ª–æ—Ö
            if (frameCount % 10 == 0 && —Ü–∞–≥ > 0) {
                —Ü–∞–≥--;
            }

            // –¶–∞–≥ –¥—É—É—Å–∞—Ö “Ø–µ–¥
            if (—Ü–∞–≥ <= 0) {
                —Ö–∞—Ä—É—É–ª_—Ç”©–≥—Å–≥”©–ª();
                return;
            }

            –º–æ–≥–æ–π.“Ø—Ö—ç–ª_—à–∞–ª–≥–∞—Ö();
            –º–æ–≥–æ–π.—Ö”©–¥”©–ª–≥”©”©–Ω();
            –º–æ–≥–æ–π.–∑—É—Ä–∞—Ö();

            if (–º–æ–≥–æ–π.–∏–¥—ç—Ö(—Ö–æ–æ–ª)) {
                if (–º–æ–≥–æ–π.–æ–Ω–æ–æ > 20) —Ü–∞–≥ += 2;
                —Ö–æ–æ–ª–Ω—ã_–±–∞–π—Ä—à–∏–ª_—Å–æ–Ω–≥–æ—Ö();
            }

            fill(220);
            rect(—Ö–æ–æ–ª.x, —Ö–æ–æ–ª.y, –Ω“Ø–¥–Ω–∏–π_—Ö—ç–º–∂—ç—ç, –Ω“Ø–¥–Ω–∏–π_—Ö—ç–º–∂—ç—ç);

            // –û–Ω–æ–æ —Ö–∞—Ä—É—É–ª–∞—Ö
            fill(255);
            textSize(20);
            textAlign(LEFT);
            text("–û–Ω–æ–æ: " + –º–æ–≥–æ–π.–æ–Ω–æ–æ, 20, 30);
            text("–¶–∞–≥: " + —Ü–∞–≥ + "—Å", 20, 60);
        }

        function —Ö–∞—Ä—É—É–ª_—Ç”©–≥—Å–≥”©–ª() {
            fill(255);
            textAlign(CENTER, CENTER);
            textSize(40);
            text("–¶–ê–ì –î–£–£–°–õ–ê–ê!", width/2, height/2 - 20);
            textSize(20);
            text("–ù–∏–π—Ç –æ–Ω–æ–æ: " + –º–æ–≥–æ–π.–æ–Ω–æ–æ, width/2, height/2 + 30);
            text("–î–∞—Ö–∏–Ω —Ç–æ–≥–ª–æ—Ö –±–æ–ª –¥–∞—Ä–Ω–∞ —É—É", width/2, height/2 + 80);
            
            —Ç–æ–≥–ª–æ–æ–º_–∏–¥—ç–≤—Ö—Ç—ç–π = false; // –¢”©–ª”©–≤–∏–π–≥ –±—É—Ü–∞–∞–∂ —Ö—É–¥–∞–ª –±–æ–ª–≥–æ—Ö
            –º–æ–≥–æ–π.—Ç–æ–≥–ª–æ–æ–º—ã–≥_—à–∏–Ω—ç—á–ª—ç—Ö();
        }

        function —Ö–æ–æ–ª–Ω—ã_–±–∞–π—Ä—à–∏–ª_—Å–æ–Ω–≥–æ—Ö() {
            let cols = floor(width / –Ω“Ø–¥–Ω–∏–π_—Ö—ç–º–∂—ç—ç);
            let rows = floor(height / –Ω“Ø–¥–Ω–∏–π_—Ö—ç–º–∂—ç—ç);
            —Ö–æ–æ–ª = createVector(floor(random(cols)), floor(random(rows))).mult(–Ω“Ø–¥–Ω–∏–π_—Ö—ç–º–∂—ç—ç);
        }

        function keyPressed() {
            if (keyCode === UP_ARROW && –º–æ–≥–æ–π.—Ö—É—Ä–¥_Y != 1) –º–æ–≥–æ–π.—á–∏–≥–ª—ç–ª_—Ç–æ—Ö–∏—Ä—É—É–ª–∞—Ö(0, -1);
            else if (keyCode === DOWN_ARROW && –º–æ–≥–æ–π.—Ö—É—Ä–¥_Y != -1) –º–æ–≥–æ–π.—á–∏–≥–ª—ç–ª_—Ç–æ—Ö–∏—Ä—É—É–ª–∞—Ö(0, 1);
            else if (keyCode === RIGHT_ARROW && –º–æ–≥–æ–π.—Ö—É—Ä–¥_X != -1) –º–æ–≥–æ–π.—á–∏–≥–ª—ç–ª_—Ç–æ—Ö–∏—Ä—É—É–ª–∞—Ö(1, 0);
            else if (keyCode === LEFT_ARROW && –º–æ–≥–æ–π.—Ö—É—Ä–¥_X != 1) –º–æ–≥–æ–π.—á–∏–≥–ª—ç–ª_—Ç–æ—Ö–∏—Ä—É—É–ª–∞—Ö(-1, 0);
        }

        function –ú–æ–≥–æ–π_–û–±—ä–µ–∫—Ç() {
            this.x = 0; this.y = 0;
            this.—Ö—É—Ä–¥_X = 1; this.—Ö—É—Ä–¥_Y = 0;
            this.–æ–Ω–æ–æ = 0; this.—Å“Ø“Ø–ª = [];

            this.—á–∏–≥–ª—ç–ª_—Ç–æ—Ö–∏—Ä—É—É–ª–∞—Ö = function(x, y) { this.—Ö—É—Ä–¥_X = x; this.—Ö—É—Ä–¥_Y = y; }
            this.–∏–¥—ç—Ö = function(pos) {
                if (dist(this.x, this.y, pos.x, pos.y) < 1) { this.–æ–Ω–æ–æ++; return true; }
                return false;
            }
            this.“Ø—Ö—ç–ª_—à–∞–ª–≥–∞—Ö = function() {
                for (let part of this.—Å“Ø“Ø–ª) {
                    if (dist(this.x, this.y, part.x, part.y) < 1) this.—Ç–æ–≥–ª–æ–æ–º—ã–≥_—à–∏–Ω—ç—á–ª—ç—Ö();
                }
            }
            this.—Ö”©–¥”©–ª–≥”©”©–Ω = function() {
                if (this.–æ–Ω–æ–æ === this.—Å“Ø“Ø–ª.length) this.—Å“Ø“Ø–ª.shift();
                this.—Å“Ø“Ø–ª.push(createVector(this.x, this.y));
                this.x += this.—Ö—É—Ä–¥_X * –Ω“Ø–¥–Ω–∏–π_—Ö—ç–º–∂—ç—ç;
                this.y += this.—Ö—É—Ä–¥_Y * –Ω“Ø–¥–Ω–∏–π_—Ö—ç–º–∂—ç—ç;
                if (this.x < 0 || this.x >= width || this.y < 0 || this.y >= height) this.—Ç–æ–≥–ª–æ–æ–º—ã–≥_—à–∏–Ω—ç—á–ª—ç—Ö();
            }
            this.—Ç–æ–≥–ª–æ–æ–º—ã–≥_—à–∏–Ω—ç—á–ª—ç—Ö = function() {
                this.–æ–Ω–æ–æ = 0; this.—Å“Ø“Ø–ª = []; this.x = 0; this.y = 0;
            }
            this.–∑—É—Ä–∞—Ö = function() {
                fill(50, 255, 50);
                for (let part of this.—Å“Ø“Ø–ª) rect(part.x, part.y, –Ω“Ø–¥–Ω–∏–π_—Ö—ç–º–∂—ç—ç, –Ω“Ø–¥–Ω–∏–π_—Ö—ç–º–∂—ç—ç);
                fill(0, 200, 0);
                rect(this.x, this.y, –Ω“Ø–¥–Ω–∏–π_—Ö—ç–º–∂—ç—ç, –Ω“Ø–¥–Ω–∏–π_—Ö—ç–º–∂—ç—ç);
            }
        }
    </script>
</body>
</html>