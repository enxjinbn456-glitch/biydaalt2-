<!DOCTYPE html>
<html lang="mn">
<head>
    <meta charset="UTF-8">
    <title>–ú–æ–≥–æ–π –¢–æ–≥–ª–æ–æ–º - –¢–∞–π–ª–∞–Ω—Ç–∞–π</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    
    <style>
        /* –î—ç–ª–≥—ç—Ü–∏–π–Ω –µ—Ä”©–Ω—Ö–∏–π –∑–∞–≥–≤–∞—Ä */
        body {
            background: #f0f0f0; /* –î—ç–ª–≥—ç—Ü–∏–π–Ω –∞—Ä—ã–Ω ”©–Ω–≥”© —Å–∞–∞—Ä–∞–ª */
            text-align: center;   /* –ë“Ø—Ö —Ç–µ–∫—Å—Ç–∏–π–≥ –≥–æ–ª–ª—É—É–ª–Ω–∞ */
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-image: url(chill.png);
            background-size: cover; /* –ó—É—Ä–≥–∏–π–≥ –¥—ç–ª–≥—ç—Ü—ç–Ω–¥ —Ç–∞–∞—Ä—É—É–ª–∂ —Å—É–Ω–≥–∞–Ω–∞ */
            background-position: center;
            background-attachment: fixed; /* –°–∫—Ä–æ–ª–ª —Ö–∏–π—Ö—ç–¥ –∑—É—Ä–∞–≥ —Ö”©–¥–ª”©—Ö–≥“Ø–π */
}
        
        /* –¢–æ–≥–ª–æ–æ–º –∑—É—Ä–∞–≥–¥–∞—Ö —Ç–∞–ª–±–∞—Ä (Canvas)-—ã–Ω –∑–∞–≥–≤–∞—Ä */
        canvas {
            border: 8px solid #ff4d4d; /* –£–ª–∞–∞–Ω —Ö“Ø—Ä—ç—ç */
            box-shadow: 0 10px 30px rgba(0,0,0,0.3); /* –°“Ø“Ø–¥—ç—Ä */
            display: block;
            margin: 20px auto;
        }
    </style>
</head>
<body>

    <h2>üêç –ú–û–ì–û–ô –¢–û–ì–õ–û–û–ú üêç</h2>
    <p>–°—É–º—Ç–∞–π —Ç–æ–≤—á–ª—É—É—Ä–∞–∞—Ä —É–¥–∏—Ä–¥–∞–Ω–∞. ”®”©—Ä–∏–π–≥”©”© –±–æ–ª–æ–Ω —Ö–∞–Ω—ã–≥ –±“Ø“Ø –º”©—Ä–≥”©!</p>

    <script>
        var s;      // –ú–æ–≥–æ–π–≥ —Ö–∞–¥–≥–∞–ª–∞—Ö —Ö—É–≤—å—Å–∞–≥—á
        var scl = 20; // –ù—ç–≥ –Ω“Ø–¥–Ω–∏–π —Ö—ç–º–∂—ç—ç (20 –ø–∏–∫—Å–µ–ª)
        var food;   // –•–æ–æ–ª–Ω—ã –±–∞–π—Ä—à–ª—ã–≥ —Ö–∞–¥–≥–∞–ª–∞—Ö —Ö—É–≤—å—Å–∞–≥—á

        // –¢–æ–≥–ª–æ–æ–º —ç—Ö–ª—ç—Ö—ç–¥ –≥–∞–Ω—Ü —É–¥–∞–∞ –∞–∂–∏–ª–ª–∞—Ö —Ñ—É–Ω–∫—Ü
        function setup() {
            createCanvas(600, 600); // 600x600 —Ö—ç–º–∂—ç—ç—Ç—ç–π —Ç–∞–ª–±–∞—Ä “Ø“Ø—Å–≥—ç—Ö
            s = new Snake();        // –®–∏–Ω—ç –º–æ–≥–æ–π “Ø“Ø—Å–≥—ç—Ö
            frameRate(10);          // –°–µ–∫—É–Ω–¥—ç–¥ 10 —É–¥–∞–∞ –¥—ç–ª–≥—ç—Ü–∏–π–≥ —à–∏–Ω—ç—á–ª—ç—Ö (–•—É—Ä–¥)
            pickLocation();         // –≠—Ö–Ω–∏–π —Ö–æ–æ–ª–Ω—ã –±–∞–π—Ä—à–ª—ã–≥ —Ç–æ–≥—Ç–æ–æ—Ö
        }

        // –•–æ–æ–ª—ã–≥ —Å–∞–Ω–∞–º—Å–∞—Ä–≥“Ø–π –±–∞–π—Ä–ª–∞–ª–¥ –≥–∞—Ä–≥–∞—Ö —Ñ—É–Ω–∫—Ü
        function pickLocation() {
            var cols = floor(width / scl); // –¢–∞–ª–±–∞—Ä—ã–≥ –±–∞–≥–∞–Ω–∞–¥ —Ö—É–≤–∞–∞—Ö
            var rows = floor(height / scl); // –¢–∞–ª–±–∞—Ä—ã–≥ –º”©—Ä”©–Ω–¥ —Ö—É–≤–∞–∞—Ö
            food = createVector(floor(random(cols)), floor(random(rows))); // –°–∞–Ω–∞–º—Å–∞—Ä–≥“Ø–π –Ω“Ø–¥ —Å–æ–Ω–≥–æ—Ö
            food.mult(scl); // –°–æ–Ω–≥–æ—Å–æ–Ω –Ω“Ø–¥—ç—ç –ø–∏–∫—Å–µ–ª —Ö—ç–º–∂—ç—ç —Ä“Ø“Ø —à–∏–ª–∂“Ø“Ø–ª—ç—Ö
        }

        // –î—ç–ª–≥—ç—Ü–∏–π–≥ —Ç–∞—Å—Ä–∞–ª—Ç–≥“Ø–π –∑—É—Ä–∞—Ö —Ñ—É–Ω–∫—Ü
        function draw() {
            background(30); // –¢–∞–ª–±–∞—Ä—ã–≥ —Ö–∞—Ä ”©–Ω–≥”©”©—Ä –±—É–¥–∞–∂ —à–∏–Ω—ç—á–ª—ç—Ö
            
            s.death();  // –ú–æ–≥–æ–π “Ø—Ö—Å—ç–Ω —ç—Å—ç—Ö–∏–π–≥ —à–∞–ª–≥–∞—Ö
            s.update(); // –ú–æ–≥–æ–π–Ω —Ö”©–¥”©–ª–≥”©”©–Ω–∏–π–≥ —à–∏–Ω—ç—á–ª—ç—Ö
            s.show();   // –ú–æ–≥–æ–π–≥ –¥—ç–ª–≥—ç—Ü—ç–Ω–¥ –∑—É—Ä–∞—Ö
            
            // –•—ç—Ä—ç–≤ –º–æ–≥–æ–π —Ö–æ–æ–ª –∏–¥—ç—Ö —é–º –±–æ–ª
            if (s.eat(food)) {
                pickLocation(); // –®–∏–Ω—ç —Ö–æ–æ–ª –≥–∞—Ä–≥–∞—Ö
            }
            
            // –•–æ–æ–ª—ã–≥ –∑—É—Ä–∞—Ö (–°–∞–∞—Ä–∞–ª ”©–Ω–≥”©—Ç—ç–π –¥”©—Ä–≤”©–ª–∂–∏–Ω)
            fill(200);
            rect(food.x, food.y, scl, scl);
        }

        // –ì–∞—Ä–Ω—ã —Ç–æ–≤—á–ª—É—É—Ä –¥–∞—Ä–∞—Ö “Ø–µ–¥ –∞–∂–∏–ª–ª–∞—Ö —Ñ—É–Ω–∫—Ü
        function keyPressed() {
            if (keyCode === UP_ARROW && s.yspeed != 1) {
                s.dir(0, -1); // –î—ç—ç—à—ç—ç (–¥–æ–æ—à–æ–æ —è–≤–∂ –±–∞–π—Ö–∞–∞—Å –±—É—Å–∞–¥ “Ø–µ–¥)
            } else if (keyCode === DOWN_ARROW && s.yspeed != -1) {
                s.dir(0, 1);  // –î–æ–æ—à–æ–æ (–¥—ç—ç—à—ç—ç —è–≤–∂ –±–∞–π—Ö–∞–∞—Å –±—É—Å–∞–¥ “Ø–µ–¥)
            } else if (keyCode === RIGHT_ARROW && s.xspeed != -1) {
                s.dir(1, 0);  // –ë–∞—Ä—É—É–Ω (–∑“Ø“Ø–Ω —Ç–∏–π—à —è–≤–∂ –±–∞–π—Ö–∞–∞—Å –±—É—Å–∞–¥ “Ø–µ–¥)
            } else if (keyCode === LEFT_ARROW && s.xspeed != 1) {
                s.dir(-1, 0); // –ó“Ø“Ø–Ω (–±–∞—Ä—É—É–Ω —Ç–∏–π—à —è–≤–∂ –±–∞–π—Ö–∞–∞—Å –±—É—Å–∞–¥ “Ø–µ–¥)
            }
        }

        // –ú–æ–≥–æ–π–Ω –æ–±—ä–µ–∫—Ç “Ø“Ø—Å–≥—ç—Ö —Ñ—É–Ω–∫—Ü (–ö–ª–∞—Å—Å)
        function Snake() {
            this.x = 0;      // –¢–æ–ª–≥–æ–π–Ω X –±–∞–π—Ä—à–∏–ª
            this.y = 0;      // –¢–æ–ª–≥–æ–π–Ω Y –±–∞–π—Ä—à–∏–ª
            this.xspeed = 1; // –•”©–¥”©–ª–≥”©”©–Ω–∏–π —Ö—É—Ä–¥ X (—ç—Ö–ª—ç—ç–¥ –±–∞—Ä—É—É–Ω —Ç–∏–π—à)
            this.yspeed = 0; // –•”©–¥”©–ª–≥”©”©–Ω–∏–π —Ö—É—Ä–¥ Y
            this.total = 0;  // –ë–∏–µ–∏–π–Ω —É—Ä—Ç (–∏–¥—ç—à–Ω–∏–π —Ç–æ–æ)
            this.tail = [];  // –°“Ø“Ø–ª–Ω–∏–π —Ö—ç—Å–≥“Ø“Ø–¥–∏–π–≥ —Ö–∞–¥–≥–∞–ª–∞—Ö –∂–∞–≥—Å–∞–∞–ª—Ç
            
            // –ß–∏–≥–ª—ç–ª ”©”©—Ä—á–ª”©—Ö —Ñ—É–Ω–∫—Ü
            this.dir = function(x, y) {
                this.xspeed = x;
                this.yspeed = y;
            }
            
            // –•–æ–æ–ª –∏–¥—ç—Ö –ª–æ–≥–∏–∫
            this.eat = function(pos) {
                var d = dist(this.x, this.y, pos.x, pos.y); // –¢–æ–ª–≥–æ–π —Ö–æ–æ–ª —Ö–æ—ë—Ä—ã–Ω –∑–∞–π–≥ —Ö—ç–º–∂–∏—Ö
                if (d < 1) {
                    this.total++; // –ó–∞–π 1-—ç—ç—Å –±–∞–≥–∞ –±–æ–ª –∏–¥—ç–∂, –±–∏–µ–∏–π–≥ —É—Ä—Ç–∞—Å–≥–∞–Ω–∞
                    return true;
                }
                return false;
            }
            
            // “Æ—Ö—ç—Ö –Ω”©—Ö—Ü”©–ª (”®”©—Ä–∏–π–≥”©”© –º”©—Ä–≥”©—Ö)
            this.death = function() {
                for (var i = 0; i < this.tail.length; i++) {
                    var pos = this.tail[i];
                    var d = dist(this.x, this.y, pos.x, pos.y); // –¢–æ–ª–≥–æ–π —Å“Ø“Ø–ª–Ω–∏–π —Ö—ç—Å—ç–≥—Ç—ç–π –º”©—Ä–≥”©–ª–¥—Å”©–Ω —ç—Å—ç—Ö
                    if (d < 1) {
                        this.total = 0; // –û–Ω–æ–æ–≥ —Ç—ç–≥–ª—ç—Ö
                        this.tail = []; // –°“Ø“Ø–ª–∏–π–≥ —É—Å—Ç–≥–∞—Ö
                        this.x = 0; this.y = 0; // –≠—Ö–ª—ç—Ö —Ü—ç–≥ —Ä“Ø“Ø –±—É—Ü–∞–∞—Ö
                    }
                }
            }
            
            // –ë–∞–π—Ä—à–∏–ª —à–∏–Ω—ç—á–ª—ç—Ö (–•”©–¥”©–ª–≥”©”©–Ω)
            this.update = function() {
                // –°“Ø“Ø–ª–Ω–∏–π —Ö”©–¥”©–ª–≥”©”©–Ω: –ù—ç–≥ –Ω“Ø–¥—ç—ç—Ä —É—Ä–∞–≥—à —à–∏–ª–∂–∏—Ö
                for (var i = 0; i < this.tail.length - 1; i++) {
                    this.tail[i] = this.tail[i + 1];
                }
                if (this.total >= 1) {
                    this.tail[this.total - 1] = createVector(this.x, this.y);
                }

                // –¢–æ–ª–≥–æ–π–Ω —Ö”©–¥”©–ª–≥”©”©–Ω–∏–π–≥ –Ω—ç–º—ç—Ö
                this.x = this.x + this.xspeed * scl;
                this.y = this.y + this.yspeed * scl;

                // –•–∞–Ω–∞ –º”©—Ä–≥”©—Ö”©–¥ “Ø—Ö—ç—Ö (–¢–∞–ª–±–∞–π–≥–∞–∞—Å –≥–∞—Ä–≤–∞–ª)
                if (this.x >= width || this.x < 0 || this.y >= height || this.y < 0) {
                    this.total = 0;
                    this.tail = [];
                    this.x = 0; this.y = 0;
                }
            }
            
            // –ú–æ–≥–æ–π–≥ –∑—É—Ä–∞—Ö
            this.show = function() {
                fill(50, 255, 50); // –ë–∏–µ–∏–π–≥ —Ç–æ–¥ –Ω–æ–≥–æ–æ–Ω–æ–æ—Ä –∑—É—Ä–∞—Ö
                for (var i = 0; i < this.tail.length; i++) {
                    rect(this.tail[i].x, this.tail[i].y, scl, scl);
                }
                fill(0, 200, 0); // –¢–æ–ª–≥–æ–π–≥ –∞—Ä–∞–π –±–∞—Ä–∞–∞–Ω –Ω–æ–≥–æ–æ–Ω–æ–æ—Ä –∑—É—Ä–∞—Ö
                rect(this.x, this.y, scl, scl);
            }
        }
    </script>
</body>
</html>
